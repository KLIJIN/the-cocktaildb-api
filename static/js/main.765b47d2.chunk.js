(this["webpackJsonpcoctails-db-2"]=this["webpackJsonpcoctails-db-2"]||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(14),i=c.n(a),r=(c(27),c(10)),o=c(3),l=(c(28),c(2)),m=c(8),d=c.n(m),j=c(13),u=c(16),b="SET_LOADING",O="SET_CATEGORY",h="TARGET_CATEGORY",x="SET_LIST_COCTAILS",p="SET_SINGLE_COCTAIL",v="SINGLE_COCTAIL_REMOVE",g="SET_COMMENT_USER",f="SET_COMMENT_TEXT",_="PUSH_COMMENT",y="CLOSE_MODAL",C="OPEN_MODAL",N="REMOVE_COMMENT",T=function(e,t){switch(t.type){case b:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!0});case O:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,category:t.payload.category});case h:return Object(l.a)(Object(l.a)({},e),{},{targetCategory:t.payload.targetCategory});case x:return Object(l.a)(Object(l.a)({},e),{},{listCoctails:t.payload.listCoctails});case p:return Object(l.a)(Object(l.a)({},e),{},{singleCoctail:t.payload.singleCoctail});case v:return Object(l.a)(Object(l.a)({},e),{},{singleCoctail:{}});default:return Object(l.a)({},e)}},w=c(0),k={isLoading:!0,category:[],listCoctails:[],targetCategory:"",singleCoctail:{}},E=Object(n.createContext)(),I=function(e){var t=e.children,c=Object(n.useReducer)(T,k),s=Object(u.a)(c,2),a=s[0],i=s[1],r=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:b}),e.prev=1,e.next=4,fetch(t);case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,i({type:O,payload:{category:n.drinks}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t).concat(a.targetCategory));case 3:return c=e.sent,e.next=6,c.json();case 6:return n=e.sent,e.next=9,Promise.all(n.drinks.map((function(e){return m(e.idDrink)})));case 9:s=e.sent,i({type:x,payload:{listCoctails:s}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=".concat(t),e.prev=1,e.next=4,fetch(c);case 4:return n=e.sent,e.next=7,n.json();case 7:return s=e.sent,e.abrupt("return",s.drinks[0]);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){r("https://www.thecocktaildb.com/api/json/v1/1/list.php?c=list")}),[]),Object(n.useEffect)((function(){o("https://www.thecocktaildb.com/api/json/v1/1/filter.php?c=")}),[a.targetCategory]);var g=function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:c=e.sent,i({type:p,payload:{singleCoctail:c}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(E.Provider,{value:Object(l.a)(Object(l.a)({},a),{},{setTargetCategory:function(e){i({type:h,payload:{targetCategory:e.target.value}})},fetchSingleCoctail:m,getSingleCoctail:g,cleartSingleCoctail:function(){i({type:v})}}),children:t})},M=function(){return Object(n.useContext)(E)},S=function(){var e=M(),t=e.category,c=e.setTargetCategory;return Object(w.jsxs)("form",{className:"section search-form",onSubmit:function(e){return e.preventDefault()},children:[Object(w.jsx)("select",{id:"search",type:"text",name:"text",className:"form-select",onChange:c,children:null===t||void 0===t?void 0:t.map((function(e){var t=e.strCategory;return Object(w.jsx)("option",{value:t,children:t},t)}))}),Object(w.jsx)("label",{htmlFor:"search",className:"form-label",children:"Select a category"})]})},U=function(e){var t=e.idDrink,c=e.strDrinkThumb,n=e.strGlass,s=e.strAlcoholic,a=e.strDrink;return Object(w.jsxs)("div",{className:"Preview section",children:[Object(w.jsx)(r.b,{to:"/coctail/".concat(t),children:Object(w.jsxs)("div",{className:"Preview__image",children:["  ",Object(w.jsx)("img",{style:{width:"100%",height:"100%"},src:c,alt:"coctail"})," "]})}),Object(w.jsxs)("div",{className:"Preview__description",children:[Object(w.jsxs)(r.b,{to:"/coctail/".concat(t),children:[" ",Object(w.jsxs)("div",{className:"Preview__title",children:["  ",a,"  "]}),"  "]}),Object(w.jsxs)("div",{className:"Preview__content",children:[Object(w.jsxs)("div",{className:"Preview__alcohol",children:[" ",s," "]}),Object(w.jsxs)("div",{className:"Preview__glass",children:[" ",n," "]})]})]})]})},P=function(){var e=M().listCoctails;return Object(w.jsxs)("div",{children:[Object(w.jsx)(S,{}),e.map((function(e){return Object(w.jsx)(U,Object(l.a)({},e),e.idDrink)}))]})},D=c(22),A=function(e,t){var c,n;switch(t.type){case g:return Object(l.a)(Object(l.a)({},e),{},{commentUser:t.payload});case f:return Object(l.a)(Object(l.a)({},e),{},{commentText:t.payload});case _:if((null===(c=t.payload.commentUser.split(" ").join(""))||void 0===c?void 0:c.length)<1)return Object(l.a)(Object(l.a)({},e),{},{commentUserPh:"\u041f\u043e\u043b\u0435 User \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",commentUser:"",commentText:t.payload.commentText});if((null===(n=t.payload.commentText.split(" ").join(""))||void 0===n?void 0:n.length)<1)return Object(l.a)(Object(l.a)({},e),{},{commentUser:t.payload.commentUser,commentTextPh:"\u041f\u043e\u043b\u0435 Text \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",commentText:""});var s=new Date,a=s.getDate();a=a<10?a="0".concat(a):a;var i=s.getMonth()+1;i=i<10?i="0".concat(i):i;var r=s.getHours();r=r<10?r="0".concat(r):r;var o=s.getMinutes();o=o<10?o="0".concat(o):o;var m=s.getSeconds();m=m<10?m="0".concat(m):m;var d=s.getMilliseconds();d=d<10?d="0".concat(d):d;var j={commentUser:t.payload.commentUser,commentText:t.payload.commentText,commentTime:"".concat(a,".").concat(i,".").concat(s.getFullYear()," ").concat(r,":").concat(o),id:"".concat(d).concat(m)};return Object(l.a)(Object(l.a)({},e),{},{comments:[].concat(Object(D.a)(e.comments),[j]),commentUser:"",commentText:"",commentUserPh:"",commentTextPh:""});case y:return Object(l.a)(Object(l.a)({},e),{},{openModalwindow:!1,commentToRemove:""});case C:return Object(l.a)(Object(l.a)({},e),{},{openModalwindow:!0,commentToRemove:t.payload});case N:return Object(l.a)(Object(l.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.payload}))});default:return Object(l.a)({},e)}},L={comments:[{id:15615615,commentTime:"25.04.2021 20:12",commentText:"In ultricies fermentum aliquet. Pellentesque dui magna, condimentum non ullamcorper at, cursus in sem. Nunc condimentum, purus ac sagittis ultricies, metus leo pharetra mi, non vehicula felis elit et nisi. Etiam venenatis commodo libero, vel ullamcorper nibh lobortis vel. Aliquam auctor porta tortor, nec consequat nibh finibus a. Sed ultrices risus eget iaculis luctus. Mauris vel gravida magna.",commentUser:"User Name_1"},{id:15677,commentTime:"26.04.2021 18:12",commentText:"In ultricies fermentum aliquet. Pellentesque dui magna, condimentum non ullamcorper at, cursus in sem. Nunc condimentum, purus ac sagittis ultricies, metus leo pharetra mi, non vehicula felis elit et nisi. Etiam venenatis commodo libero, vel ullamcorper nibh lobortis vel. Aliquam auctor porta tortor, nec consequat nibh finibus a. Sed ultrices risus eget iaculis luctus. Mauris vel gravida magna.",commentUser:"User Name_2"}],commentUser:"",commentText:"",openModalwindow:!1,commentToRemove:""},R=Object(n.createContext)(),q=function(e){var t=e.children,c=Object(n.useReducer)(A,L),s=Object(u.a)(c,2),a=s[0],i=s[1];return Object(w.jsx)(R.Provider,{value:Object(l.a)(Object(l.a)({},a),{},{handleSubmit:function(e){e.preventDefault(),i({type:_,payload:{commentUser:a.commentUser,commentText:a.commentText}})},updateCommentUser:function(e){i({type:g,payload:e.target.value})},updateCommentText:function(e){i({type:f,payload:e.target.value})},closeModal:function(){i({type:y})},openModal:function(e){i({type:C,payload:e})},removeComment:function(e){i({type:N,payload:e})}}),children:t})},G=function(){return Object(n.useContext)(R)},F=c.p+"static/media/x-circle-fill.0c2bf7c6.svg",H=function(e){var t=e.commentUser,c=e.commentText,n=e.commentTime,s=e.id,a=G().openModal;return Object(w.jsxs)("div",{className:"comments_item section",children:[Object(w.jsxs)("div",{className:"comments_item-title ",children:[Object(w.jsxs)("div",{className:"comments_item-title-content ",children:[Object(w.jsxs)("div",{className:"comments_item-title-user",children:[" ",t]}),Object(w.jsxs)("div",{className:"comments_item-title-time",children:[n," "]})]}),Object(w.jsxs)("div",{className:"comments_item-title-button",children:[" ",Object(w.jsx)("img",{src:F,alt:"close btn",onClick:function(){return a(s)}})," "]})]}),Object(w.jsxs)("div",{className:"comments_item-text",children:["  ",c]}),Object(w.jsx)("div",{className:"comments_item-line"})]})},Y=function(){var e=Object(o.f)().id,t=M(),c=t.getSingleCoctail,s=t.singleCoctail,a=t.cleartSingleCoctail,i=G(),r=i.handleSubmit,m=i.comments,d=i.commentUser,j=i.commentText,u=i.updateCommentUser,b=i.updateCommentText,O=i.commentUserPh,h=i.commentTextPh,x=s.strDrinkThumb,p=s.strDrink,v=s.strAlcoholic,g=s.strGlass,f=s.strIngredient1,_=s.strIngredient2,y=s.strIngredient3,C=s.strIngredient4,N=s.strIngredient5,T=s.strIngredient6,k=s.strIngredient7,E=s.strIngredient8,I=s.strIngredient9,S=s.strIngredient10,U=s.strIngredient11,P=s.strIngredient12,D=s.strIngredient13,A=s.strIngredient14,L=s.strIngredient15,R=s.strInstructions;return Object(n.useEffect)((function(){return c(e),function(){console.log("cleanup"),a()}}),[]),Object(w.jsxs)("div",{children:[Object(w.jsxs)("section",{className:"coctail section",children:[Object(w.jsxs)("div",{className:"coctail__description",children:[Object(w.jsxs)("div",{className:"coctail__image",children:["   ",Object(w.jsx)("img",{style:{width:"100%",height:"100%"},src:x,alt:"coctail"}),"  "]}),Object(w.jsxs)("div",{className:"coctail__content",children:[Object(w.jsxs)("div",{className:"coctail__title",children:[Object(w.jsxs)("div",{className:"coctail__title-ttle",children:[" ",p," "]}),Object(w.jsxs)("span",{className:"coctail__title-alcohol",children:[" ",v," "]}),Object(w.jsxs)("span",{className:"coctail__title-glass",children:[" ",g," "]})]}),Object(w.jsxs)("div",{className:"coctail__ingredients",children:["Ingredients",Object(w.jsxs)("ul",{children:[f&&Object(w.jsxs)("li",{children:[" ",f]}),_&&Object(w.jsxs)("li",{children:[" ",_]}),y&&Object(w.jsxs)("li",{children:[" ",y]}),C&&Object(w.jsxs)("li",{children:[" ",C]}),N&&Object(w.jsxs)("li",{children:[" ",N]}),T&&Object(w.jsxs)("li",{children:[" ",T]}),k&&Object(w.jsxs)("li",{children:[" ",k]}),E&&Object(w.jsxs)("li",{children:[" ",E]}),I&&Object(w.jsxs)("li",{children:[" ",I]}),S&&Object(w.jsxs)("li",{children:[" ",S]}),U&&Object(w.jsxs)("li",{children:[" ",U]}),P&&Object(w.jsxs)("li",{children:[" ",P]}),D&&Object(w.jsxs)("li",{children:[" ",D]}),A&&Object(w.jsxs)("li",{children:[" ",A]}),L&&Object(w.jsxs)("li",{children:[" ",L]})]})]})]})]}),Object(w.jsxs)("div",{className:"coctail__instruction",children:[Object(w.jsx)("div",{className:"coctail__instruction-title",children:" How to make it "}),R]})]}),Object(w.jsxs)("section",{className:"comments section",children:[(null===m||void 0===m?void 0:m.length)>0&&Object(w.jsxs)("div",{className:"comments_container",children:[Object(w.jsx)("div",{className:"comments__title",children:"Comments:"}),m.map((function(e){return Object(w.jsx)(H,Object(l.a)(Object(l.a)({},e),{},{id:e.id}),e.id)}))]}),Object(w.jsx)("label",{className:"comments__form_label",htmlFor:"comments__form",children:"Leave a comment "}),Object(w.jsxs)("form",{className:"comments__form",id:"comments__form",children:[Object(w.jsx)("input",{type:"text",name:"text",className:"comments__form_user",placeholder:"".concat((null===O||void 0===O?void 0:O.length)>0?O:"User"),value:d,onChange:u}),Object(w.jsx)("textarea",{type:"text",name:"text",className:"comments__form_text",placeholder:"".concat((null===h||void 0===h?void 0:h.length)>0?h:"Text"),value:j,onChange:b}),Object(w.jsx)("button",{type:"submit",onClick:r,className:"submit-btn",children:" Leave a comment "})]})]})]})},B=c.p+"static/media/modal-x.bd302ffb.svg";function J(){var e=G(),t=e.openModalwindow,c=e.commentToRemove,n=e.closeModal,s=e.removeComment;if(!t)return null;return i.a.createPortal(Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(171, 181, 190, 0.5)",zIndex:999},onClick:n}),Object(w.jsxs)("div",{className:"modal",children:[Object(w.jsx)("div",{className:"modal__title",children:" Confirm Deletion "}),Object(w.jsx)("div",{className:"modal__text",children:" Are you sure you want to delete a comment? "}),Object(w.jsxs)("div",{className:"modal__buttons",children:[Object(w.jsx)("button",{className:"modal__buttons-cancel",onClick:n,children:" Cancel "}),Object(w.jsx)("button",{className:"modal__buttons-delete",onClick:function(){s(c),n()},children:" Delete  "})]}),Object(w.jsxs)("div",{className:"modal__close",children:[" ",Object(w.jsx)("img",{src:B,alt:"close btn",onClick:n})," "]})]})]}),document.getElementById("portal"))}var V=function(){return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(r.a,{children:Object(w.jsxs)(o.c,{children:[Object(w.jsxs)(o.a,{exact:!0,path:"/",children:[" ",Object(w.jsx)(P,{})," "]}),Object(w.jsxs)(o.a,{exact:!0,path:"/the-cocktaildb-api",children:["  ",Object(w.jsx)(P,{})," "]}),"   ",Object(w.jsx)(o.a,{exact:!0,path:"/coctail/:id",children:Object(w.jsx)(Y,{})})]})}),Object(w.jsx)(J,{})]})};i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(I,{children:Object(w.jsx)(q,{children:Object(w.jsx)(V,{})})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.765b47d2.chunk.js.map